title: "Start of the Code for analysis"
author: "Susanna Wong"
date: "2023-03-15"
output: html_document
---

# We want to add new columns for each skill. The code below is a loop that searches for the skills in "technical". It returns a "1" if the skill is present in the "Job_description" column, and "0" if the skill is not in the column. So far the only thing I cannot figure out is how to search for the skill regardless if it is uppercase or lowercase. That is why you see the "|".

```{r}
library(stringr)

tidied_Linkedin <- read.csv('https://raw.githubusercontent.com/suswong/DATA-607-Project-3/main/tidied_Linkedin_version3.csv')
colnames(tidied_Linkedin)
technical_skills <- tidied_Linkedin[c('Job_title','Company','Job_location_City','Job_location_State','Seniority_level','Employment_type','Job_function','Industries','Job_description')]


technical <- c("Python","python","Python|python", "Java|java","JavaScript" ,"sql|SQL", "r|R", "sas|SAS","scala|Scala","MatLab|matlab|MATLAB", "C","C++", "Swift", "Julia|julia","Hadoop|hadoop","Spark|spark","Pig|pig","Tableau|tableau")

for(i in technical){
   technical_skills[i] <- +str_detect(apply(technical_skills, 1, paste0, collapse = " ",ignore_case = T), technical[which(technical == i)])
```

# second code we can use. The code also does that similar thing except it returns "TRUE" or "FALSE". It is not a loop. So this is manual work. It is not case sensitive.

technical_skills <- tidied_Linkedin[c('Job_title','Company','Job_location_City','Job_location_State','Seniority_level','Employment_type','Job_function','Industries','Job_description')]
technical_skills$Python    <- grepl("Python", technical_skills$Job_description, ignore.case=TRUE)
technical_skills$sql    <- grepl("sql", technical_skills$Job_description, ignore.case=TRUE)
technical_skills$R    <- grepl("\\bR\\b", technical_skills$Job_description, ignore.case=TRUE)
